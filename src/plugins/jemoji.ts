/**
 * Jemoji Plugin for Jekyll.js
 *
 * Implements jemoji functionality
 * Converts GitHub-style emoji codes (e.g., :smile:) to emoji characters or images
 *
 * @see https://github.com/jekyll/jemoji
 */

import { Plugin } from './index';
import { Renderer } from '../core/Renderer';
import { Site } from '../core/Site';

/**
 * Common emoji mappings (GitHub-compatible subset)
 * Maps emoji names to Unicode characters
 */
const EMOJI_MAP: Record<string, string> = {
  // Smileys & People
  smile: 'ðŸ˜„',
  smiley: 'ðŸ˜ƒ',
  grinning: 'ðŸ˜€',
  grin: 'ðŸ˜',
  laughing: 'ðŸ˜†',
  satisfied: 'ðŸ˜†',
  sweat_smile: 'ðŸ˜…',
  joy: 'ðŸ˜‚',
  rofl: 'ðŸ¤£',
  relaxed: 'â˜ºï¸',
  blush: 'ðŸ˜Š',
  innocent: 'ðŸ˜‡',
  slightly_smiling_face: 'ðŸ™‚',
  upside_down_face: 'ðŸ™ƒ',
  wink: 'ðŸ˜‰',
  relieved: 'ðŸ˜Œ',
  heart_eyes: 'ðŸ˜',
  smiling_face_with_three_hearts: 'ðŸ¥°',
  kissing_heart: 'ðŸ˜˜',
  kissing: 'ðŸ˜—',
  kissing_smiling_eyes: 'ðŸ˜™',
  kissing_closed_eyes: 'ðŸ˜š',
  yum: 'ðŸ˜‹',
  stuck_out_tongue: 'ðŸ˜›',
  stuck_out_tongue_winking_eye: 'ðŸ˜œ',
  stuck_out_tongue_closed_eyes: 'ðŸ˜',
  zany_face: 'ðŸ¤ª',
  hugs: 'ðŸ¤—',
  thinking: 'ðŸ¤”',
  hand_over_mouth: 'ðŸ¤­',
  shushing_face: 'ðŸ¤«',
  lying_face: 'ðŸ¤¥',
  flushed: 'ðŸ˜³',
  disappointed: 'ðŸ˜ž',
  worried: 'ðŸ˜Ÿ',
  angry: 'ðŸ˜ ',
  rage: 'ðŸ˜¡',
  pout: 'ðŸ˜¡',
  cry: 'ðŸ˜¢',
  sob: 'ðŸ˜­',
  frowning: 'ðŸ˜¦',
  anguished: 'ðŸ˜§',
  fearful: 'ðŸ˜¨',
  cold_sweat: 'ðŸ˜°',
  disappointed_relieved: 'ðŸ˜¥',
  sweat: 'ðŸ˜“',
  scream: 'ðŸ˜±',
  tired_face: 'ðŸ˜«',
  sleepy: 'ðŸ˜ª',
  sleeping: 'ðŸ˜´',
  mask: 'ðŸ˜·',
  nauseated_face: 'ðŸ¤¢',
  sneezing_face: 'ðŸ¤§',
  hot_face: 'ðŸ¥µ',
  cold_face: 'ðŸ¥¶',
  woozy_face: 'ðŸ¥´',
  dizzy_face: 'ðŸ˜µ',
  exploding_head: 'ðŸ¤¯',
  cowboy_hat_face: 'ðŸ¤ ',
  partying_face: 'ðŸ¥³',
  sunglasses: 'ðŸ˜Ž',
  nerd_face: 'ðŸ¤“',
  monocle_face: 'ðŸ§',
  confused: 'ðŸ˜•',
  confounded: 'ðŸ˜–',
  open_mouth: 'ðŸ˜®',
  hushed: 'ðŸ˜¯',
  astonished: 'ðŸ˜²',
  flushing: 'ðŸ˜³',
  pleading_face: 'ðŸ¥º',
  frowning_face: 'â˜¹ï¸',
  persevere: 'ðŸ˜£',
  triumph: 'ðŸ˜¤',
  neutral_face: 'ðŸ˜',
  expressionless: 'ðŸ˜‘',
  no_mouth: 'ðŸ˜¶',
  smirk: 'ðŸ˜',
  unamused: 'ðŸ˜’',
  roll_eyes: 'ðŸ™„',
  grimacing: 'ðŸ˜¬',
  zipper_mouth_face: 'ðŸ¤',

  // Gestures
  '+1': 'ðŸ‘',
  thumbsup: 'ðŸ‘',
  '-1': 'ðŸ‘Ž',
  thumbsdown: 'ðŸ‘Ž',
  ok_hand: 'ðŸ‘Œ',
  pinched_fingers: 'ðŸ¤Œ',
  pinching_hand: 'ðŸ¤',
  v: 'âœŒï¸',
  crossed_fingers: 'ðŸ¤ž',
  love_you_gesture: 'ðŸ¤Ÿ',
  metal: 'ðŸ¤˜',
  call_me_hand: 'ðŸ¤™',
  point_left: 'ðŸ‘ˆ',
  point_right: 'ðŸ‘‰',
  point_up_2: 'ðŸ‘†',
  middle_finger: 'ðŸ–•',
  point_down: 'ðŸ‘‡',
  point_up: 'â˜ï¸',
  raised_hand: 'âœ‹',
  raised_back_of_hand: 'ðŸ¤š',
  hand: 'âœ‹',
  vulcan_salute: 'ðŸ––',
  wave: 'ðŸ‘‹',
  clap: 'ðŸ‘',
  muscle: 'ðŸ’ª',
  writing_hand: 'âœï¸',
  pray: 'ðŸ™',
  fist: 'âœŠ',
  fist_oncoming: 'ðŸ‘Š',
  fist_left: 'ðŸ¤›',
  fist_right: 'ðŸ¤œ',

  // Hearts & Emotions
  heart: 'â¤ï¸',
  orange_heart: 'ðŸ§¡',
  yellow_heart: 'ðŸ’›',
  green_heart: 'ðŸ’š',
  blue_heart: 'ðŸ’™',
  purple_heart: 'ðŸ’œ',
  black_heart: 'ðŸ–¤',
  brown_heart: 'ðŸ¤Ž',
  white_heart: 'ðŸ¤',
  broken_heart: 'ðŸ’”',
  two_hearts: 'ðŸ’•',
  revolving_hearts: 'ðŸ’ž',
  heartbeat: 'ðŸ’“',
  heartpulse: 'ðŸ’—',
  sparkling_heart: 'ðŸ’–',
  cupid: 'ðŸ’˜',
  gift_heart: 'ðŸ’',
  heart_decoration: 'ðŸ’Ÿ',
  heavy_heart_exclamation: 'â£ï¸',
  love_letter: 'ðŸ’Œ',
  fire: 'ðŸ”¥',
  star: 'â­',
  star2: 'ðŸŒŸ',
  sparkles: 'âœ¨',
  boom: 'ðŸ’¥',
  collision: 'ðŸ’¥',
  zap: 'âš¡',
  sunny: 'â˜€ï¸',
  rainbow: 'ðŸŒˆ',
  cloud: 'â˜ï¸',

  // Objects
  rocket: 'ðŸš€',
  tada: 'ðŸŽ‰',
  confetti_ball: 'ðŸŽŠ',
  balloon: 'ðŸŽˆ',
  birthday: 'ðŸŽ‚',
  gift: 'ðŸŽ',
  trophy: 'ðŸ†',
  medal_sports: 'ðŸ…',
  medal_military: 'ðŸŽ–ï¸',
  first_place_medal: 'ðŸ¥‡',
  second_place_medal: 'ðŸ¥ˆ',
  third_place_medal: 'ðŸ¥‰',
  bell: 'ðŸ””',
  no_bell: 'ðŸ”•',
  bulb: 'ðŸ’¡',
  flashlight: 'ðŸ”¦',
  wrench: 'ðŸ”§',
  hammer: 'ðŸ”¨',
  nut_and_bolt: 'ðŸ”©',
  gear: 'âš™ï¸',
  link: 'ðŸ”—',
  key: 'ðŸ”‘',
  lock: 'ðŸ”’',
  unlock: 'ðŸ”“',
  envelope: 'âœ‰ï¸',
  email: 'ðŸ“§',
  memo: 'ðŸ“',
  pencil2: 'âœï¸',
  black_nib: 'âœ’ï¸',
  book: 'ðŸ“–',
  books: 'ðŸ“š',
  page_facing_up: 'ðŸ“„',
  newspaper: 'ðŸ“°',
  calendar: 'ðŸ“…',
  clipboard: 'ðŸ“‹',
  chart_with_upwards_trend: 'ðŸ“ˆ',
  chart_with_downwards_trend: 'ðŸ“‰',
  bar_chart: 'ðŸ“Š',
  moneybag: 'ðŸ’°',
  dollar: 'ðŸ’µ',
  credit_card: 'ðŸ’³',
  computer: 'ðŸ’»',
  keyboard: 'âŒ¨ï¸',
  desktop_computer: 'ðŸ–¥ï¸',
  printer: 'ðŸ–¨ï¸',
  mouse: 'ðŸ–±ï¸',
  cd: 'ðŸ’¿',
  dvd: 'ðŸ“€',
  floppy_disk: 'ðŸ’¾',
  phone: 'ðŸ“±',
  telephone_receiver: 'ðŸ“ž',
  camera: 'ðŸ“·',
  camera_flash: 'ðŸ“¸',
  video_camera: 'ðŸ“¹',
  movie_camera: 'ðŸŽ¥',
  clapper: 'ðŸŽ¬',
  tv: 'ðŸ“º',
  microphone: 'ðŸŽ¤',
  headphones: 'ðŸŽ§',
  musical_note: 'ðŸŽµ',
  notes: 'ðŸŽ¶',
  guitar: 'ðŸŽ¸',
  violin: 'ðŸŽ»',
  piano: 'ðŸŽ¹',
  drum: 'ðŸ¥',
  trumpet: 'ðŸŽº',

  // Symbols
  white_check_mark: 'âœ…',
  ballot_box_with_check: 'â˜‘ï¸',
  heavy_check_mark: 'âœ”ï¸',
  x: 'âŒ',
  negative_squared_cross_mark: 'âŽ',
  heavy_multiplication_x: 'âœ–ï¸',
  heavy_plus_sign: 'âž•',
  heavy_minus_sign: 'âž–',
  heavy_division_sign: 'âž—',
  curly_loop: 'âž°',
  loop: 'âž¿',
  question: 'â“',
  grey_question: 'â”',
  exclamation: 'â—',
  grey_exclamation: 'â•',
  bangbang: 'â€¼ï¸',
  interrobang: 'â‰ï¸',
  100: 'ðŸ’¯',
  warning: 'âš ï¸',
  no_entry: 'â›”',
  no_entry_sign: 'ðŸš«',
  copyright: 'Â©ï¸',
  registered: 'Â®ï¸',
  tm: 'â„¢ï¸',
  recycle: 'â™»ï¸',
  information_source: 'â„¹ï¸',
  arrow_up: 'â¬†ï¸',
  arrow_down: 'â¬‡ï¸',
  arrow_left: 'â¬…ï¸',
  arrow_right: 'âž¡ï¸',
  arrow_upper_left: 'â†–ï¸',
  arrow_upper_right: 'â†—ï¸',
  arrow_lower_left: 'â†™ï¸',
  arrow_lower_right: 'â†˜ï¸',
  leftwards_arrow_with_hook: 'â†©ï¸',
  arrow_right_hook: 'â†ªï¸',
  arrows_clockwise: 'ðŸ”ƒ',
  arrows_counterclockwise: 'ðŸ”„',
  back: 'ðŸ”™',
  end: 'ðŸ”š',
  on: 'ðŸ”›',
  soon: 'ðŸ”œ',
  top: 'ðŸ”',

  // Animals
  dog: 'ðŸ¶',
  cat: 'ðŸ±',
  mouse2: 'ðŸ­',
  hamster: 'ðŸ¹',
  rabbit: 'ðŸ°',
  fox_face: 'ðŸ¦Š',
  bear: 'ðŸ»',
  panda_face: 'ðŸ¼',
  koala: 'ðŸ¨',
  tiger: 'ðŸ¯',
  lion: 'ðŸ¦',
  cow: 'ðŸ®',
  pig: 'ðŸ·',
  frog: 'ðŸ¸',
  monkey_face: 'ðŸµ',
  see_no_evil: 'ðŸ™ˆ',
  hear_no_evil: 'ðŸ™‰',
  speak_no_evil: 'ðŸ™Š',
  chicken: 'ðŸ”',
  penguin: 'ðŸ§',
  bird: 'ðŸ¦',
  baby_chick: 'ðŸ¤',
  hatching_chick: 'ðŸ£',
  hatched_chick: 'ðŸ¥',
  duck: 'ðŸ¦†',
  eagle: 'ðŸ¦…',
  owl: 'ðŸ¦‰',
  bat: 'ðŸ¦‡',
  wolf: 'ðŸº',
  horse: 'ðŸ´',
  unicorn: 'ðŸ¦„',
  bee: 'ðŸ',
  bug: 'ðŸ›',
  butterfly: 'ðŸ¦‹',
  snail: 'ðŸŒ',
  shell: 'ðŸš',
  beetle: 'ðŸž',
  ant: 'ðŸœ',
  spider: 'ðŸ•·ï¸',
  spider_web: 'ðŸ•¸ï¸',
  turtle: 'ðŸ¢',
  snake: 'ðŸ',
  lizard: 'ðŸ¦Ž',
  scorpion: 'ðŸ¦‚',
  crab: 'ðŸ¦€',
  octopus: 'ðŸ™',
  squid: 'ðŸ¦‘',
  shrimp: 'ðŸ¦',
  tropical_fish: 'ðŸ ',
  fish: 'ðŸŸ',
  blowfish: 'ðŸ¡',
  dolphin: 'ðŸ¬',
  shark: 'ðŸ¦ˆ',
  whale: 'ðŸ³',
  whale2: 'ðŸ‹',

  // Food & Drink
  apple: 'ðŸŽ',
  green_apple: 'ðŸ',
  pear: 'ðŸ',
  tangerine: 'ðŸŠ',
  lemon: 'ðŸ‹',
  banana: 'ðŸŒ',
  watermelon: 'ðŸ‰',
  grapes: 'ðŸ‡',
  strawberry: 'ðŸ“',
  melon: 'ðŸˆ',
  cherries: 'ðŸ’',
  peach: 'ðŸ‘',
  mango: 'ðŸ¥­',
  pineapple: 'ðŸ',
  coconut: 'ðŸ¥¥',
  kiwi_fruit: 'ðŸ¥',
  tomato: 'ðŸ…',
  eggplant: 'ðŸ†',
  avocado: 'ðŸ¥‘',
  carrot: 'ðŸ¥•',
  corn: 'ðŸŒ½',
  hot_pepper: 'ðŸŒ¶ï¸',
  cucumber: 'ðŸ¥’',
  leafy_green: 'ðŸ¥¬',
  broccoli: 'ðŸ¥¦',
  onion: 'ðŸ§…',
  garlic: 'ðŸ§„',
  mushroom: 'ðŸ„',
  potato: 'ðŸ¥”',
  sweet_potato: 'ðŸ ',
  bread: 'ðŸž',
  croissant: 'ðŸ¥',
  baguette_bread: 'ðŸ¥–',
  pretzel: 'ðŸ¥¨',
  cheese: 'ðŸ§€',
  egg: 'ðŸ¥š',
  cooking: 'ðŸ³',
  bacon: 'ðŸ¥“',
  pancakes: 'ðŸ¥ž',
  hamburger: 'ðŸ”',
  fries: 'ðŸŸ',
  pizza: 'ðŸ•',
  hotdog: 'ðŸŒ­',
  sandwich: 'ðŸ¥ª',
  taco: 'ðŸŒ®',
  burrito: 'ðŸŒ¯',
  sushi: 'ðŸ£',
  ramen: 'ðŸœ',
  stew: 'ðŸ²',
  curry: 'ðŸ›',
  rice: 'ðŸš',
  rice_ball: 'ðŸ™',
  spaghetti: 'ðŸ',
  cake: 'ðŸ°',
  doughnut: 'ðŸ©',
  cookie: 'ðŸª',
  chocolate_bar: 'ðŸ«',
  candy: 'ðŸ¬',
  lollipop: 'ðŸ­',
  ice_cream: 'ðŸ¨',
  icecream: 'ðŸ¦',
  pie: 'ðŸ¥§',
  coffee: 'â˜•',
  tea: 'ðŸµ',
  sake: 'ðŸ¶',
  champagne: 'ðŸ¾',
  wine_glass: 'ðŸ·',
  cocktail: 'ðŸ¸',
  tropical_drink: 'ðŸ¹',
  beer: 'ðŸº',
  beers: 'ðŸ»',
  clinking_glasses: 'ðŸ¥‚',
  tumbler_glass: 'ðŸ¥ƒ',
  cup_with_straw: 'ðŸ¥¤',
  bubble_tea: 'ðŸ§‹',

  // Nature
  seedling: 'ðŸŒ±',
  evergreen_tree: 'ðŸŒ²',
  deciduous_tree: 'ðŸŒ³',
  palm_tree: 'ðŸŒ´',
  cactus: 'ðŸŒµ',
  tulip: 'ðŸŒ·',
  cherry_blossom: 'ðŸŒ¸',
  rose: 'ðŸŒ¹',
  hibiscus: 'ðŸŒº',
  sunflower: 'ðŸŒ»',
  blossom: 'ðŸŒ¼',
  bouquet: 'ðŸ’',
  four_leaf_clover: 'ðŸ€',
  shamrock: 'â˜˜ï¸',
  fallen_leaf: 'ðŸ‚',
  maple_leaf: 'ðŸ',
  leaves: 'ðŸƒ',

  // Weather
  sun_behind_cloud: 'â›…',
  cloud_with_rain: 'ðŸŒ§ï¸',
  thunder_cloud_and_rain: 'â›ˆï¸',
  snowflake: 'â„ï¸',
  snowman: 'â›„',
  wind_face: 'ðŸŒ¬ï¸',
  dash: 'ðŸ’¨',
  droplet: 'ðŸ’§',
  ocean: 'ðŸŒŠ',

  // People & Roles
  boy: 'ðŸ‘¦',
  girl: 'ðŸ‘§',
  man: 'ðŸ‘¨',
  woman: 'ðŸ‘©',
  older_man: 'ðŸ‘´',
  older_woman: 'ðŸ‘µ',
  baby: 'ðŸ‘¶',
  angel: 'ðŸ‘¼',
  cop: 'ðŸ‘®',
  dancer: 'ðŸ’ƒ',
  man_dancing: 'ðŸ•º',
  bride_with_veil: 'ðŸ‘°',
  person_with_blond_hair: 'ðŸ‘±',
  man_with_turban: 'ðŸ‘³',
  construction_worker: 'ðŸ‘·',
  princess: 'ðŸ‘¸',
  guardsman: 'ðŸ’‚',
  detective: 'ðŸ•µï¸',
  santa: 'ðŸŽ…',
  mrs_claus: 'ðŸ¤¶',
  mage: 'ðŸ§™',
  fairy: 'ðŸ§š',
  vampire: 'ðŸ§›',
  mermaid: 'ðŸ§œ',
  merman: 'ðŸ§œâ€â™‚ï¸',
  elf: 'ðŸ§',
  genie: 'ðŸ§ž',
  zombie: 'ðŸ§Ÿ',
  skull: 'ðŸ’€',
  ghost: 'ðŸ‘»',
  alien: 'ðŸ‘½',
  robot: 'ðŸ¤–',
  imp: 'ðŸ‘¿',
  smiling_imp: 'ðŸ˜ˆ',
  poop: 'ðŸ’©',
  hankey: 'ðŸ’©',

  // Activities
  soccer: 'âš½',
  basketball: 'ðŸ€',
  football: 'ðŸˆ',
  baseball: 'âš¾',
  tennis: 'ðŸŽ¾',
  volleyball: 'ðŸ',
  rugby_football: 'ðŸ‰',
  golf: 'â›³',
  ping_pong: 'ðŸ“',
  badminton: 'ðŸ¸',
  ice_hockey: 'ðŸ’',
  lacrosse: 'ðŸ¥',
  cricket_game: 'ðŸ',
  goal_net: 'ðŸ¥…',
  ski: 'ðŸŽ¿',
  skier: 'â›·ï¸',
  snowboarder: 'ðŸ‚',
  ice_skate: 'â›¸ï¸',
  skateboard: 'ðŸ›¹',
  swimmer: 'ðŸŠ',
  surfer: 'ðŸ„',
  horse_racing: 'ðŸ‡',
  running: 'ðŸƒ',
  walking: 'ðŸš¶',
  bicyclist: 'ðŸš´',
  mountain_bicyclist: 'ðŸšµ',
  weight_lifting: 'ðŸ‹ï¸',
  wrestler: 'ðŸ¤¼',
  boxing_glove: 'ðŸ¥Š',
  martial_arts_uniform: 'ðŸ¥‹',
  fishing_pole_and_fish: 'ðŸŽ£',
  dart: 'ðŸŽ¯',
  bowling: 'ðŸŽ³',
  video_game: 'ðŸŽ®',
  game_die: 'ðŸŽ²',
  chess_pawn: 'â™Ÿï¸',
  jigsaw: 'ðŸ§©',
  performing_arts: 'ðŸŽ­',
  art: 'ðŸŽ¨',

  // Vehicles & Transport
  car: 'ðŸš—',
  taxi: 'ðŸš•',
  bus: 'ðŸšŒ',
  trolleybus: 'ðŸšŽ',
  racing_car: 'ðŸŽï¸',
  police_car: 'ðŸš“',
  ambulance: 'ðŸš‘',
  fire_engine: 'ðŸš’',
  minibus: 'ðŸš',
  truck: 'ðŸšš',
  tractor: 'ðŸšœ',
  motorcycle: 'ðŸï¸',
  bike: 'ðŸš²',
  scooter: 'ðŸ›´',
  train: 'ðŸš†',
  tram: 'ðŸšŠ',
  metro: 'ðŸš‡',
  monorail: 'ðŸš',
  helicopter: 'ðŸš',
  airplane: 'âœˆï¸',
  small_airplane: 'ðŸ›©ï¸',
  ship: 'ðŸš¢',
  sailboat: 'â›µ',
  speedboat: 'ðŸš¤',
  anchor: 'âš“',

  // Places
  house: 'ðŸ ',
  house_with_garden: 'ðŸ¡',
  office: 'ðŸ¢',
  post_office: 'ðŸ£',
  european_post_office: 'ðŸ¤',
  hospital: 'ðŸ¥',
  bank: 'ðŸ¦',
  hotel: 'ðŸ¨',
  school: 'ðŸ«',
  convenience_store: 'ðŸª',
  department_store: 'ðŸ¬',
  factory: 'ðŸ­',
  japanese_castle: 'ðŸ¯',
  european_castle: 'ðŸ°',
  tent: 'â›º',
  stadium: 'ðŸŸï¸',
  ferris_wheel: 'ðŸŽ¡',
  roller_coaster: 'ðŸŽ¢',
  carousel_horse: 'ðŸŽ ',
  fountain: 'â›²',
  beach_umbrella: 'ðŸ–ï¸',
  desert: 'ðŸœï¸',
  desert_island: 'ðŸï¸',
  mountain: 'â›°ï¸',
  snow_capped_mountain: 'ðŸ”ï¸',
  mount_fuji: 'ðŸ—»',
  camping: 'ðŸ•ï¸',
  volcano: 'ðŸŒ‹',
  earth_africa: 'ðŸŒ',
  earth_americas: 'ðŸŒŽ',
  earth_asia: 'ðŸŒ',
  globe_with_meridians: 'ðŸŒ',
  world_map: 'ðŸ—ºï¸',
  japan: 'ðŸ—¾',
  compass: 'ðŸ§­',
  statue_of_liberty: 'ðŸ—½',

  // Time
  watch: 'âŒš',
  clock1: 'ðŸ•',
  clock2: 'ðŸ•‘',
  clock3: 'ðŸ•’',
  clock4: 'ðŸ•“',
  clock5: 'ðŸ•”',
  clock6: 'ðŸ••',
  clock7: 'ðŸ•–',
  clock8: 'ðŸ•—',
  clock9: 'ðŸ•˜',
  clock10: 'ðŸ•™',
  clock11: 'ðŸ•š',
  clock12: 'ðŸ•›',
  hourglass: 'âŒ›',
  hourglass_flowing_sand: 'â³',
  alarm_clock: 'â°',
  stopwatch: 'â±ï¸',
  timer_clock: 'â²ï¸',

  // Flags
  checkered_flag: 'ðŸ',
  triangular_flag_on_post: 'ðŸš©',
  crossed_flags: 'ðŸŽŒ',
  black_flag: 'ðŸ´',
  white_flag: 'ðŸ³ï¸',
  rainbow_flag: 'ðŸ³ï¸â€ðŸŒˆ',
  pirate_flag: 'ðŸ´â€â˜ ï¸',

  // GitHub-specific
  octocat: 'ðŸ™',
  shipit: 'ðŸ¿ï¸',
  neckbeard: 'ðŸ§”',
  trollface: 'ðŸ‘¹',
  bowtie: 'ðŸŽ€',
  suspect: 'ðŸ•µï¸',
  hurtrealbad: 'ðŸ˜–',
  goberserk: 'ðŸ˜¤',
  godmode: 'ðŸ˜Ž',
  finnadie: 'ðŸ’€',
  feelsgood: 'ðŸ˜Š',
  rage1: 'ðŸ˜¤',
  rage2: 'ðŸ˜¤',
  rage3: 'ðŸ˜¤',
  rage4: 'ðŸ˜¤',
};

/**
 * Jemoji Plugin implementation
 */
export class JemojiPlugin implements Plugin {
  name = 'jemoji';

  register(renderer: Renderer, _site: Site): void {
    // Register the emojify filter
    renderer.getLiquid().registerFilter('emojify', (input: string) => {
      return emojify(input);
    });
  }
}

/**
 * Convert GitHub-style emoji codes to actual emoji characters
 * @param input String containing emoji codes like :smile:
 * @returns String with emoji codes replaced by actual emoji
 */
export function emojify(input: string): string {
  if (!input) return '';

  // Match :emoji_name: patterns
  // Emoji names can contain letters, numbers, underscores, plus signs, and minus signs
  return String(input).replace(/:([a-zA-Z0-9_+-]+):/g, (match, emojiName) => {
    const emoji = EMOJI_MAP[emojiName.toLowerCase()];
    return emoji || match; // Return original if not found
  });
}

/**
 * Get the emoji character for a given emoji name
 * @param name Emoji name without colons (e.g., 'smile')
 * @returns Emoji character or undefined if not found
 */
export function getEmoji(name: string): string | undefined {
  return EMOJI_MAP[name.toLowerCase()];
}

/**
 * Check if a given emoji name exists
 * @param name Emoji name to check
 * @returns True if emoji exists
 */
export function hasEmoji(name: string): boolean {
  return name.toLowerCase() in EMOJI_MAP;
}

/**
 * Get all available emoji names
 * @returns Array of emoji names
 */
export function getEmojiNames(): string[] {
  return Object.keys(EMOJI_MAP);
}
